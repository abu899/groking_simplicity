# Part 1

## Ch 3

액션, 계산 데이터의 차이를 알아보기

### 액션

실행 시점이나 횟수 또는 둘다에 의존
- 부수 효과(side effect), 부수 효과가 있는 함수, 순수하지 않은 함수
- ex) 이메일 보내기, DB 읽기

액션 안에는 계산과 데이터, 또 다른 액션이 숨어 있을 수 있다. 따라서 이를 더 작은 액션과 계산, 데이터로 나눠야하는데 언제 멈춰야하는지를 아는 것이 중요하다.

### 계산

입력으로 출력을 계산
- 순수 함수, 수학 함수
- ex) 최댓값 찾기, 이메일 주소 검증

### 데이터

이벤트에 대한 사실
- 데이터를 쉽게 해석할 수 있도록 표현하는 것이 중요한 기술


### 액션이 퍼져나가는 문제

[PayoutV0](../src/main/kotlin/com/study/groking/part1/ch3/PayoutV0.kt)에서 sendPayout이 코드 전체로 퍼져나가는 걸 보자.
- sendPayout은 호출 시점과 횟수가 중요하기에 액션
- 해당 함수를 포함하고 있는 figurePayout 역시 액션이 되어버림
- 같은 문제로 affiliatePayout도 액션이 됨
- 결국 코드 안쪽의 하나의 액션으로 인해 모든 프로그램이 액션이 되어버림

액션을 가능한 작게 만들고, 액션 내에서 결정이나 계획과 관련된 부분은 계산으로 빼낼 수 있다.

---

## Ch 4

액션과 계산을 분리하지 않고 좀더 이해하기 편한 방식인 절차형 방식으로 코딩한 예를 보자([MegaMartV0](../src/main/kotlin/com/study/groking/part1/ch4/MegaMartV0.kt)).
이 방식을 테스트하기 위한 가장 간단한 방법은 다음과 같다.

1. 브라우저 설정
2. 페이지 로드
3. 장바구니에 제품 담기 버튼 클릭
4. DOM 업데이트 대기
5. DOM에서 값 획득
6. 가져온 문자열 값을 숫자로 변경
7. 예상 값과 비교

테스트해야하는 비지니스 규칙과는 관련없는 DOM 까지 확인해야하기에 테스트가 어렵다. 비지니스 규칙을 분리하고 전역변수를 없애보자

